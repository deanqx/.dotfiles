include ~/.config/i3/config

exec waybar
exec foot --server
exec tmux start-server
exec playerctld daemon
exec dunst

# Desktop apps
exec firefox
exec signal-desktop
exec spotify

assign [app_id="firefox"] $w1
assign [app_id="signal"] $wa4
assign [app_id="spotify"] $wa5

workspace $w1 output DP-3
workspace $wa4 output DP-1
workspace $wa5 output DP-1

input * {
    xkb_layout "us"
    # Used for special german chars
    xkb_variant "altgr-intl"
    xkb_options caps:escape
    repeat_delay 300
    repeat_rate 35
}

input "type:touchpad" {
    tap enabled
    natural_scroll disabled # invert scrolling
    dwt disabled # disable while typing
    scroll_factor 0.7
    accel_profile adaptive # adaptive or flat
    pointer_accel 0.5
    click_method clickfinger  # or buttonareas
}

output * {
    # scaling not working correctly with X11 apps
    scale 1.0666666
    bg $(ls ~/Pictures/wallpapers/bg_* | head -n 1) fill
}

output DP-1 {
    pos 0 0
}

output DP-3 {
    pos 2400 0
}

# App launcher like dmenu
unbindsym $mod+d
bindsym $mod+d exec "fuzzel"

unbindsym $mod+Return
bindsym $mod+Return exec "footclient"

# Lock desktop and suspend
bindsym $mod+x exec "systemctl suspend && swaylock"

# --- Screenshots (https://wiki.archlinux.org/title/Screen_capture#Wayland)
# selection of screen
unbindsym Print
bindsym Print exec grim -g "$(slurp)" "/home/$USER/pictures/screenshots/$(date +"%Y-%m-%d_%Hh%Mm%Ss").png"
# whole screen
unbindsym Shift+Print
bindsym Shift+Print exec grim "/home/$USER/pictures/screenshots/$(date +"%Y-%m-%d_%Hh%Mm%Ss").png"
# selection of screen to clipboard
unbindsym Ctrl+Print
bindsym Ctrl+Print exec grim -g "$(slurp)" - | wl-copy
# whole screen to clipboard
unbindsym Ctrl+Shift+Print
bindsym Ctrl+Shift+Print exec grim - | wl-copy

# Restart inplace does not seam to work
# unbindsym $mod+Shift+r
# bindsym $mod+Shift+r exec ""
